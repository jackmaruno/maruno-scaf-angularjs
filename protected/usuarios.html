<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <meta charset="UTF-8">
        <title>SCAF</title>
    </head>
    <body>
        <script src="/protected/js/usuarios.js" type="text/javascript"></script> 
		<div ng-controller="usuariosCtrl">
    
			     
			 <section class="content-header">
				<h1>{{menu.nome}}</h1>
			 </section> 
			   
			 <section class="content">
			
				<div class="row" >
					
			        
					<div class="col-xs-12">
						<div class="box"> 
			                <div class="box-body table-responsive"> 
						        <table id="lista" class="table table-bordered table-striped tabela" > 
				                	<thead>
										<tr> 
											<th>Codigo</th> 
											<th>Nome</th> 
											<th>Login</th> 
											<th>Perfil</th> 
											<th>Email</th> 
											<th>Status</th>  
											<th>Ações</th>  
										</tr> 
				                	</thead> 
			                        <tfoot>
										<tr>  
											<th>Codigo</th> 
											<th>Nome</th> 
											<th>Login</th> 
											<th>Perfil</th> 
											<th>Email</th> 
											<th>Status</th>  
											<th>Ações</th>  
										</tr> 
			                        </tfoot>
								</table>  
			                </div>
						</div>
					</div>
					      
					<div id="mpUsuario" class="modal fade in" tabindex="-1" style="display: none;" data-backdrop="static">
						<div class="modal-header mp-header">
							<i class="close fa fa-times-circle" data-dismiss="modal" aria-hidden="true"></i>
							<h4 class="modal-title"><i class="fa fa-users"></i>&nbsp;Cadastro de Usuário</h4>
						</div>
						<div class="modal-body"> 
						    <form name="mpUsuarioForm" novalidate >
						        <input type="hidden" required ng-model="usuario.codigo" name="codigo" value="{{usuario.codigo}}"/> 
				                 
				                 <div class="box-body">
					                <div class="form-group" ng-class="displayValidationError  && mpUsuarioForm.nome.$error.required ? 'has-error' : ''">
					                    <label>* Nome:</label>
					                    <input type="text" autofocus required ng-model="usuario.nome" name="nome" placeholder="Nome do Usuário" class="form-control" >
					                </div>  
					                <div class="form-group" ng-class="displayValidationError  && mpUsuarioForm.login.$error.required ? 'has-error' : ''">
					                    <label>* Login:</label>
				                        <input type="text" autofocus required ng-model="usuario.login" name="login" placeholder="Login do Usuário" class="form-control" >
					                </div>  
					                <div class="form-group" ng-class="displayValidationError  && mpUsuarioForm.senha.$error.required ? 'has-error' : ''">
					                    <label>* Senha:</label>  
				                        <input type="password" autofocus required ng-model="usuario.senha" name="senha" placeholder="Senha do Usuário" class="form-control" >
					                </div> 
					                <div class="form-group" ng-class="displayValidationError  && mpUsuarioForm.email.$error.required ? 'has-error' : ''">
					                    <label>* Email:</label> 
				                        <input type="text" autofocus required ng-model="usuario.email" name="email" placeholder="Email do Usuário" class="form-control" >
				                        
					                </div> 
					                <div class="form-group" ng-class="displayValidationError  && mpUsuarioForm.perfil.$error.required ? 'has-error' : ''">
					                    <label>* Perfil:</label> 
					                   	<select autofocus ng-model="usuario.perfil.codigo" name="perfil" placeholder="Perfil do Usuário" class="form-control">
					                   		<option value="1">Administrador</option>
					                   		<option value="2">Usuário</option> 
					                   	</select> 
					                </div> 
				                </div>   
				            </form>
						</div>
						<div class="modal-footer" style="text-align: center;">
			              	<button class="btn btn-danger" data-dismiss="modal"><i class="glyphicon glyphicon-remove"></i>&nbsp;Fechar</button>
			              	<button class="btn btn-success"  ng-click="saveOrUpdate(mpUsuarioForm);"><i class="glyphicon glyphicon-floppy-save"></i>&nbsp;Salvar</button>
						</div>
					</div> 
					 
					      
					<div id="mpStatusUsuario" class="modal fade" tabindex="-1" style="display: none;" data-backdrop="static">
						<div class="modal-header mp-header-warnning">
							<i class="close fa fa-times-circle" data-dismiss="modal" aria-hidden="true"></i>
							<h4 class="modal-title"><i class="fa fa-warning"></i>&nbsp;Alteração de Status de Usuário</h4>
						</div>
						<div class="modal-body">
							<p>Deseja {{usuario.ativo+''== 'true' ? 'desativar' : 'ativar'}} o Usuário {{usuario.nome}}?</p> 
						</div>
						<div class="modal-footer" style="text-align: center;">
			               	<button class="btn btn-danger" data-dismiss="modal"><i class="glyphicon glyphicon-remove"></i>&nbsp;Não</button>
			               	<button class="btn btn-success"  ng-click="alterStatus();"><i class="fa fa-check"></i>&nbsp;Sim</button>
						</div>
					</div> 
					
				</div> 
			</section>
		 </div> 
     </body>
</html>
     
    
